<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" ToolsVersion="15.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="$([MSBuild]::GetDirectoryNameOfFileAbove($(MSBuildThisFileDirectory), Mira.Default.props))\Mira.Default.props" />
  <PropertyGroup Label="Globals">
    <ProjectGuid>{12fcbdc3-a9e0-4fe2-8699-07c52e40c176}</ProjectGuid>
    <Keyword>Win32Proj</Keyword>
    <RootNamespace>MAGESLaMLib</RootNamespace>
    <DefaultLanguage>en-US</DefaultLanguage>
    <MinimumVisualStudioVersion>14</MinimumVisualStudioVersion>
    <TargetPlatformIdentifier>UAP</TargetPlatformIdentifier>
    <AppContainerApplication>true</AppContainerApplication>
    <MinimumVisualStudioVersion>14</MinimumVisualStudioVersion>
  </PropertyGroup>
  <Import Project="$(MiraBuildPropertiesDir)Mira.UWP.Cpp.Default.props" />
  <PropertyGroup Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
  </PropertyGroup>
  <Import Project="$(MiraBuildPropertiesDir)Mira.UWP.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
    <Import Project="..\..\Tracing\MiraTracing.vcxitems" Label="Shared" />
    <Import Project="..\..\BundlerLib\UWP\BundlerLib.UWP.Reference.vcxitems" Label="Shared" />
    <Import Project="..\..\FuserLib\FuserLib.Reference.vcxitems" Label="Shared" />
    <Import Project="..\..\..\External\mira.analog.mirror\AnalogLib.Reference.vcxitems" Label="Shared" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <PropertyGroup />
  <PropertyGroup>
    <GenerateManifest>false</GenerateManifest>
  </PropertyGroup>
  <ItemDefinitionGroup>
    <ClCompile>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <CompileAsWinRT>false</CompileAsWinRT>
      <DisableSpecificWarnings>%(DisableSpecificWarnings);4718;4503</DisableSpecificWarnings>
      <PreprocessorDefinitions>NOMINMAX;_SCL_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
    </ClCompile>
    <Link>
      <SubSystem>Console</SubSystem>
      <GenerateWindowsMetadata>false</GenerateWindowsMetadata>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|arm'">
    <ClCompile>
      <PreprocessorDefinitions>DEBUG;_ARM_WINAPI_PARTITION_DESKTOP_SDK_AVAILABLE=1;%(PreprocessorDefinitions)</PreprocessorDefinitions>
    </ClCompile>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|arm'">
    <ClCompile>
      <PreprocessorDefinitions>NDEBUG;_ARM_WINAPI_PARTITION_DESKTOP_SDK_AVAILABLE=1;%(PreprocessorDefinitions)</PreprocessorDefinitions>
    </ClCompile>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <PreprocessorDefinitions>DEBUG;_UNICODE;UNICODE;%(PreprocessorDefinitions)</PreprocessorDefinitions>
    </ClCompile>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <PreprocessorDefinitions>_UNICODE;UNICODE;%(PreprocessorDefinitions)</PreprocessorDefinitions>
    </ClCompile>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <PreprocessorDefinitions>DEBUG;_UNICODE;UNICODE;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <!-- Disabling warning 4324 for x64 because it is triggered by the padding of std::pair struct containing aligned Quaternions, which is fine -->
      <DisableSpecificWarnings>%(DisableSpecificWarnings);4324</DisableSpecificWarnings>
    </ClCompile>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <!-- Disabling warning 4324 for x64 because it is triggered by the padding of std::pair struct containing aligned Quaternions, which is fine -->
      <DisableSpecificWarnings>%(DisableSpecificWarnings);4324</DisableSpecificWarnings>
      <PreprocessorDefinitions>_UNICODE;UNICODE;%(PreprocessorDefinitions)</PreprocessorDefinitions>
    </ClCompile>
  </ItemDefinitionGroup>
  <ItemGroup>
    <ClInclude Include="Analysis\binary_iterators.h" />
    <ClInclude Include="Analysis\DataFlow.h" />
    <ClInclude Include="Analysis\DataPoints.h" />
    <ClInclude Include="BoW\BaseBow.h" />
    <ClInclude Include="BoW\BaseFeatureMatcher.h" />
    <ClInclude Include="BoW\OnlineBow.h" />
    <ClInclude Include="BoW\OnlineBowFeatureMatcher.h" />
    <ClInclude Include="BundleAdjustment\BundleAdjust.h" />
    <ClInclude Include="Clouds\DeNoising.h" />
    <ClInclude Include="Containers\GenericContainers.h" />
    <ClInclude Include="Containers\MapPointAssociations.h" />
    <ClInclude Include="Data\InternalDepth.h" />
    <ClInclude Include="Data\Intrinsics.h" />
    <ClInclude Include="Data\Tether.h" />
    <ClInclude Include="Data\Operators.h" />
    <ClInclude Include="Data\Keyframe.h" />
    <ClInclude Include="Data\Data.h" />
    <ClInclude Include="Data\MapState.h" />
    <ClInclude Include="Data\Pose.h" />
    <ClInclude Include="Data\HistoricalPose.h" />
    <ClInclude Include="Data\TimeUnits.h" />
    <ClInclude Include="Data\Types.h" />
    <ClInclude Include="Debugging\Introspection.h" />
    <ClInclude Include="Debugging\Introspector.h" />
    <ClInclude Include="Debugging\SkeletonData.h" />
    <ClInclude Include="Debugging\SkeletonKey.h" />
    <ClInclude Include="Debugging\SkeletonLogger.h" />
    <ClInclude Include="Device\Device.h" />
    <ClInclude Include="Device\IMUCharacterization.h" />
    <ClInclude Include="Device\SupportedDevices.h" />
    <ClInclude Include="Fuser\AnalogCAIMU.h" />
    <ClInclude Include="Fuser\AnalogCASIMU.h" />
    <ClInclude Include="Fuser\AnalogVFTFilter.h" />
    <ClInclude Include="Fuser\Fuser.h" />
    <ClInclude Include="Fuser\FuserFunctions.h" />
    <ClInclude Include="Tasks\DynamicIMUPosePriorProvider.h" />
    <ClInclude Include="Tasks\IMUPosePriorProvider.h" />
    <ClInclude Include="Fuser\Interfaces.h" />
    <ClInclude Include="Fuser\ImuMath.h" />
    <ClInclude Include="Fuser\PoseInterpolator.h" />
    <ClInclude Include="Fuser\ScaleEstimator.h" />
    <ClInclude Include="Fuser\UnfilteredIMU.h" />
    <ClInclude Include="Image\ImageData.h" />
    <ClInclude Include="Image\ImageFactory.h" />
    <ClInclude Include="Image\ImagePreprocessor.h" />
    <ClInclude Include="LineDescriptor\bitarray.hpp" />
    <ClInclude Include="LineDescriptor\bitops.hpp" />
    <ClInclude Include="LineDescriptor\ldprecomp.hpp" />
    <ClInclude Include="LineDescriptor\line_descriptor.hpp" />
    <ClInclude Include="LineDescriptor\descriptor.hpp" />
    <ClInclude Include="LineDescriptor\types.hpp" />
    <ClInclude Include="Tasks\LoopClosureWorker.h" />
    <ClInclude Include="MageUtil.h" />
    <ClInclude Include="MageSlam.h" />
    <ClInclude Include="Mapping\MapPointKeyframeAssociations.h" />
    <ClInclude Include="Mapping\NewMapPointsCreation.h" />
    <ClInclude Include="Map\CovisibilityGraph.h" />
    <ClInclude Include="Map\InitializationData.h" />
    <ClInclude Include="Map\Map.h" />
    <ClInclude Include="Map\MappingKeyframe.h" />
    <ClInclude Include="Map\MappingMath.h" />
    <ClInclude Include="Map\ThreadSafeMap.h" />
    <ClInclude Include="Map\MapPoint.h" />
    <ClInclude Include="Map\SpanningTree.h" />
    <ClInclude Include="Map\PoseHistory.h" />
    <ClInclude Include="Map\ThreadSafePoseHistory.h" />
    <ClInclude Include="Memory\allocation.h" />
    <ClInclude Include="Memory\allocators.h" />
    <ClInclude Include="Memory\allocator_traits.h" />
    <ClInclude Include="Memory\block.h" />
    <ClInclude Include="Memory\debug_electric_fence.h" />
    <ClInclude Include="Memory\debug_tracking_allocator.h" />
    <ClInclude Include="Memory\non_owning_stack_allocator.h" />
    <ClInclude Include="Memory\stack_allocator.h" />
    <ClInclude Include="Memory\debug_check_fail.h" />
    <ClInclude Include="Memory\fallback_allocator.h" />
    <ClInclude Include="Memory\free_list.h" />
    <ClInclude Include="Memory\mallocator.h" />
    <ClInclude Include="Memory\debug_memory_marking_allocator.h" />
    <ClInclude Include="Memory\non_deallocating_allocator.h" />
    <ClInclude Include="Memory\passthrough_allocator.h" />
    <ClInclude Include="Memory\std_allocator.h" />
    <ClInclude Include="Platform\Platform.h" />
    <ClInclude Include="Proxies\KeyframeProxy.h" />
    <ClInclude Include="Proxies\ProxyFactory.h" />
    <ClInclude Include="Proxies\GenericFields.h" />
    <ClInclude Include="Proxies\KeyframeFields.h" />
    <ClInclude Include="Proxies\MapPointFields.h" />
    <ClInclude Include="Proxies\Proxy.h" />
    <ClInclude Include="Tasks\MotionModelPriorProvider.h" />
    <ClInclude Include="Tasks\Runtime.h" />
    <ClInclude Include="Serialization\binary_magestream.h" />
    <ClInclude Include="Serialization\hybrid_magestream.h" />
    <ClInclude Include="Serialization\BinarySerializer.h" />
    <ClInclude Include="Device\CameraCalibration.h" />
    <ClInclude Include="MageSettings.h" />
    <ClInclude Include="Stereo\StereoMapInit.h" />
    <ClInclude Include="Tasks\BaseWorker.h" />
    <ClInclude Include="Tasks\FuserWorker.h" />
    <ClInclude Include="Tasks\ImageAnalyzer.h" />
    <ClInclude Include="Tasks\ImageData.h" />
    <ClInclude Include="Tasks\MappingWorker.h" />
    <ClInclude Include="Tasks\PoseEstimationWorker.h" />
    <ClInclude Include="Tasks\Schedule.h" />
    <ClInclude Include="Tasks\StereoInitializationWorker.h" />
    <ClInclude Include="Tasks\TrackingEvents.h" />
    <ClInclude Include="Tasks\InitializationWorker.h" />
    <ClInclude Include="Tasks\TrackLocalMapWorker.h" />
    <ClInclude Include="Tracking\BoundingPlaneDepths.h" />
    <ClInclude Include="Tracking\ComputeEssential.h" />
    <ClInclude Include="Data\FrameData.h" />
    <ClInclude Include="Tasks\MageContext.h" />
    <ClInclude Include="Tracking\IPosePriorProvider.h" />
    <ClInclude Include="Utils\CameraConfiguration.h" />
    <ClInclude Include="Utils\eigen.h" />
    <ClInclude Include="Utils\IO\csv_stream.h" />
    <ClInclude Include="Utils\IO\validating_stream.h" />
    <ClInclude Include="Utils\Logging.h" />
    <ClInclude Include="Image\AnalyzedImage.h" />
    <ClInclude Include="Tracking\FeatureMatcher.h" />
    <ClInclude Include="Tracking\KeyframeBuilder.h" />
    <ClInclude Include="Image\KeypointSpatialIndex.h" />
    <ClInclude Include="Tracking\MapInitialization.h" />
    <ClInclude Include="Proxies\MapPointProxy.h" />
    <ClInclude Include="Tracking\NewKeyFrameDecision.h" />
    <ClInclude Include="Image\OpenCVModified.h" />
    <ClInclude Include="Image\ORBDescriptor.h" />
    <ClInclude Include="Image\OrbFeatureDetector.h" />
    <ClInclude Include="Tracking\PoseEstimator.h" />
    <ClInclude Include="Tracking\Reprojection.h" />
    <ClInclude Include="Tracking\TrackLocalMap.h" />
    <ClInclude Include="Tracking\Triangulation.h" />
    <ClInclude Include="Utils\collection.h" />
    <ClInclude Include="Utils\cv.h" />
    <ClInclude Include="Utils\cvmarkers.h" />
    <ClInclude Include="Utils\cvmarkersobj.h" />
    <ClInclude Include="Utils\date_assert.h" />
    <ClInclude Include="Utils\Epipolar.h" />
    <ClInclude Include="Utils\flag.h" />
    <ClInclude Include="Utils\format.h" />
    <ClInclude Include="Utils\id_generator.h" />
    <ClInclude Include="Memory\allocation_scope.h" />
    <ClInclude Include="Utils\MageConversions.h" />
    <ClInclude Include="Utils\MAGESlamTraceLoggerImpl.h" />
    <ClInclude Include="Utils\not_null.h" />
    <ClInclude Include="Utils\range.h" />
    <ClInclude Include="Utils\ScopeTimer.h" />
    <ClInclude Include="Serialization\cv_serialization.h" />
    <ClInclude Include="Utils\single_item_concurrent_queue.h" />
    <ClInclude Include="Utils\historical_queue.h" />
    <ClInclude Include="Utils\stack_vector.h" />
    <ClInclude Include="Utils\buffer.h" />
    <ClInclude Include="Utils\thread_memory.h" />
    <ClInclude Include="VolumeOfInterest\VolumeOfInterest.h" />
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="Analysis\DataFlow.cpp" />
    <ClCompile Include="BoW\OnlineBow.cpp" />
    <ClCompile Include="BoW\OnlineBowFeatureMatcher.cpp" />
    <ClCompile Include="BundleAdjustment\BundleAdjust.cpp" />
    <ClCompile Include="Clouds\DeNoising.cpp" />
    <ClCompile Include="Containers\MapPointAssociations.cpp" />
    <ClCompile Include="Data\Intrinsics.cpp" />
    <ClCompile Include="Data\Keyframe.cpp" />
    <ClCompile Include="Data\Pose.cpp" />
    <ClCompile Include="Data\HistoricalPose.cpp" />
    <ClCompile Include="Data\Types.cpp" />
    <ClCompile Include="Debugging\SkeletonKey.cpp" />
    <ClCompile Include="Debugging\SkeletonLogger.cpp" />
    <ClCompile Include="Device\Device.cpp" />
    <ClCompile Include="Device\SupportedDevices.cpp" />
    <ClCompile Include="Fuser\AnalogCAIMU.cpp" />
    <ClCompile Include="Fuser\AnalogCASIMU.cpp" />
    <ClCompile Include="Fuser\AnalogVFTFilter.cpp" />
    <ClCompile Include="Fuser\Fuser.cpp" />
    <ClCompile Include="Fuser\FuserFunctions.cpp" />
    <ClCompile Include="Fuser\PoseInterpolator.cpp" />
    <ClCompile Include="Fuser\ScaleEstimator.cpp" />
    <ClCompile Include="Fuser\UnfilteredIMU.cpp" />
    <ClCompile Include="Image\ImagePreprocessor.cpp" />
    <ClCompile Include="LineDescriptor\binary_descriptor.cpp" />
    <!--<ClCompile Include="LineDescriptor\binary_descriptor_matcher.cpp" />-->
    <ClCompile Include="LineDescriptor\draw.cpp" />
    <ClCompile Include="LineDescriptor\LSDDetector.cpp" />
    <ClCompile Include="Tasks\DynamicIMUPosePriorProvider.cpp" />
    <ClCompile Include="Tasks\IMUPosePriorProvider.cpp" />
    <ClCompile Include="Tasks\LoopClosureWorker.cpp" />
    <ClCompile Include="MageSlam.cpp" />
    <ClCompile Include="MageUtil.cpp" />
    <ClCompile Include="Mapping\NewMapPointsCreation.cpp" />
    <ClCompile Include="Map\CovisibilityGraph.cpp" />
    <ClCompile Include="Map\Map.cpp" />
    <ClCompile Include="Map\MapPoint.cpp" />
    <ClCompile Include="Map\SpanningTree.cpp" />
    <ClCompile Include="Map\PoseHistory.cpp" />
    <ClCompile Include="Map\ThreadSafePoseHistory.cpp" />
    <ClCompile Include="Platform\Windows.cpp" />
    <ClCompile Include="Serialization\BinarySerializer.cpp" />
    <ClCompile Include="Device\CameraCalibration.cpp" />
    <ClCompile Include="Stereo\StereoMapInit.cpp" />
    <ClCompile Include="Tasks\BaseWorker.cpp" />
    <ClCompile Include="Tasks\FuserWorker.cpp" />
    <ClCompile Include="Tasks\ImageAnalyzer.cpp" />
    <ClCompile Include="Tasks\MotionModelPriorProvider.cpp" />
    <ClCompile Include="Tasks\Runtime.cpp" />
    <ClCompile Include="Tasks\MappingWorker.cpp" />
    <ClCompile Include="Tasks\PoseEstimationWorker.cpp" />
    <ClCompile Include="Tasks\Schedule.cpp" />
    <ClCompile Include="Tasks\InitializationWorker.cpp" />
    <ClCompile Include="Tasks\StereoInitializationWorker.cpp" />
    <ClCompile Include="Tasks\TrackLocalMapWorker.cpp" />
    <ClCompile Include="Tracking\BoundingPlaneDepths.cpp" />
    <ClCompile Include="Tracking\ComputeEssential.cpp" />
    <ClCompile Include="Tracking\FeatureMatcher.cpp" />
    <ClCompile Include="Tracking\KeyframeBuilder.cpp" />
    <ClCompile Include="Image\KeypointSpatialIndex.cpp">
      <DisableSpecificWarnings Condition="'$(Configuration)'=='Debug'">4503;4996</DisableSpecificWarnings>
      <DisableSpecificWarnings Condition="'$(Configuration)'=='Release'">4503;4996</DisableSpecificWarnings>
    </ClCompile>
    <ClCompile Include="Tracking\MapInitialization.cpp" />
    <ClCompile Include="Map\ThreadSafeMap.cpp" />
    <ClCompile Include="Tracking\NewKeyFrameDecision.cpp" />
    <ClCompile Include="Image\OpenCVModified.cpp" />
    <ClCompile Include="Image\OrbFeatureDetector.cpp" />
    <ClCompile Include="Tracking\PoseEstimator.cpp" />
    <ClCompile Include="Tracking\Reprojection.cpp" />
    <ClCompile Include="Tracking\TrackLocalMap.cpp" />
    <ClCompile Include="Tracking\Triangulation.cpp" />
    <ClCompile Include="Utils\cv.cpp" />
    <ClCompile Include="Utils\Epipolar.cpp" />
    <ClCompile Include="Utils\MageConversions.cpp" />
    <ClCompile Include="Utils\MAGESlamTraceLoggerImpl.cpp" />
    <ClCompile Include="Utils\ValidateBuildFlavor.cpp" />
    <ClCompile Include="VolumeOfInterest\VolumeOfInterest.cpp" />
  </ItemGroup>
  <Import Project="$(MiraBuildTargetsDir)Mira.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
    <Import Project="..\..\..\..\Packages\OpenCV.2018.4.18.1\build\OpenCV.targets" Condition="Exists('..\..\..\..\Packages\OpenCV.2018.4.18.1\build\OpenCV.targets')" />
    <Import Project="..\..\..\..\Packages\Eigen3.2018.4.30.2\build\eigen3.targets" Condition="Exists('..\..\..\..\Packages\Eigen3.2018.4.30.2\build\eigen3.targets')" />
    <Import Project="..\..\..\..\Packages\boost.headers.2018.4.30.1\build\boost.headers.targets" Condition="Exists('..\..\..\..\Packages\boost.headers.2018.4.30.1\build\boost.headers.targets')" />
  </ImportGroup>
  <ItemGroup>
    <None Include="packages.config" />
  </ItemGroup>
  <Target Name="EnsureNuGetPackageBuildImports" BeforeTargets="PrepareForBuild">
    <PropertyGroup>
      <ErrorText>This project references NuGet package(s) that are missing on this computer. Use NuGet Package Restore to download them.  For more information, see http://go.microsoft.com/fwlink/?LinkID=322105. The missing file is {0}.</ErrorText>
    </PropertyGroup>
    <Error Condition="!Exists('..\..\..\..\Packages\OpenCV.2018.4.18.1\build\OpenCV.targets')" Text="$([System.String]::Format('$(ErrorText)', '..\..\..\..\Packages\OpenCV.2018.4.18.1\build\OpenCV.targets'))" />
    <Error Condition="!Exists('..\..\..\..\Packages\Eigen3.2018.4.30.2\build\eigen3.targets')" Text="$([System.String]::Format('$(ErrorText)', '..\..\..\..\Packages\Eigen3.2018.4.30.2\build\eigen3.targets'))" />
    <Error Condition="!Exists('..\..\..\..\Packages\boost.headers.2018.4.30.1\build\boost.headers.targets')" Text="$([System.String]::Format('$(ErrorText)', '..\..\..\..\Packages\boost.headers.2018.4.30.1\build\boost.headers.targets'))" />
  </Target>
</Project>